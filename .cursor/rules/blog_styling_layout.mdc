---
description: For making any styling updates to the blog
globs:
alwaysApply: false
---
# Blog Styling and Layout

This rule describes how styling and overall page layout are handled for the blog section.

## Layout

*   Blog pages (both index and individual posts) are rendered within the `home` layout: [`app/views/layouts/home.html.erb`](mdc:app/views/layouts/home.html.erb).
*   This `home` layout, in turn, renders the shared navigation partial [`app/views/home/shared/_nav.html.erb`](mdc:app/views/home/shared/_nav.html.erb) and is itself rendered within the main [`app/views/layouts/application.html.erb`](mdc:app/views/layouts/application.html.erb) layout.
*   The shared footer [`app/views/home/shared/_footer.html.erb`](mdc:app/views/home/shared/_footer.html.erb) is rendered at the end of the blog's `index.html.erb` and `show.html.erb` views.

## Styling

*   **Tailwind CSS:** The primary styling mechanism is Tailwind CSS. Utility classes are used extensively in the blog view templates:
    *   [`app/views/blog/posts/index.html.erb`](mdc:app/views/blog/posts/index.html.erb)
    *   [`app/views/blog/posts/show.html.erb`](mdc:app/views/blog/posts/show.html.erb)
    *   Individual content partials (e.g., [`_new-upsells-2-0_content.html.erb`](mdc:app/views/blog/posts/_new-upsells-2-0_content.html.erb))
*   **Tailwind Typography:** The `@tailwindcss/typography` plugin is used to style the HTML content rendered from blog post bodies. This is applied via the `.prose` (and `prose-lg`, `lg:prose-xl`) classes in [`app/views/blog/posts/show.html.erb`](mdc:app/views/blog/posts/show.html.erb) which wraps the content partials.
*   **Scoped Preflight:** To provide a clean styling base for the blog section without affecting the rest of the application, a custom scoped Preflight is implemented:
    *   Global Preflight is disabled in [`tailwind.config.js`](mdc:tailwind.config.js) (`corePlugins: { preflight: false }`).
    *   A custom plugin in [`tailwind.config.js`](mdc:tailwind.config.js) (named `scopedPreflightPlugin`) applies Tailwind's base (Preflight) styles only to elements within a container having the class `.blog-scope`.
    *   This `.blog-scope` class is applied to the main content wrapper for blog pages within the [`app/views/layouts/home.html.erb`](mdc:app/views/layouts/home.html.erb) layout, ensuring it does not affect the shared nav and footer.
*   **Existing SCSS:** Be aware that global styles from files like `_global.scss` or component-specific SCSS like `_nav.scss` may still apply. The scoped Preflight helps Tailwind utilities win within `.blog-scope`, but structural SCSS for shared components like the nav will still be active.
